{"ast":null,"code":"var _jsxFileName = \"D:\\\\frontend\\\\React JS\\\\facebook_two\\\\src\\\\components\\\\Posts\\\\Posts.js\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport { useState, useEffect } from \"react\";\nimport { getPostsApi } from '../../apis/GetPosts';\nimport { postLikeApi, postUnLikeApi } from \"../../apis/PostActions\";\nimport Post from './Post';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Posts = () => {\n  _s();\n\n  const [userId, setUserId] = useState(localStorage.getItem(\"user_id\"));\n  const [apiErrorMsg, setApiErrorMsg] = useState(\"\");\n  const [posts, setPosts] = useState([]);\n  useEffect(() => {\n    getPostsApi(\"React App\", userId).then(response => {\n      console.log(response);\n      const apiData = response.data;\n\n      if (apiData.result == \"success\") {\n        setApiErrorMsg(\"\");\n        setPosts(apiData.data);\n      } else {\n        setApiErrorMsg(apiData.msg);\n      }\n    });\n  }, [userId]);\n\n  const PostLiked = post_id => {\n    postLikeApi(\"react app\", userId, post_id).then(response => {\n      // console.log(response);\n      if (response.data.result == \"success\") {\n        setPosts(posts.map(post => {\n          if (post.post_id == post_id) {\n            post.is_liked = \"true\";\n          }\n\n          return post;\n        }));\n        console.log(posts);\n      }\n    });\n  };\n\n  const postUnLiked = post_id => {\n    postUnLikeApi(\"react app\", userId, post_id).then(response => {\n      // console.log(response);\n      if (response.data.result == \"success\") {\n        setPosts(posts.map(post => {\n          if (post.post_id == post_id) {\n            post.is_liked = \"false\";\n          }\n\n          return post;\n        }));\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [posts.map((post, i) => /*#__PURE__*/_jsxDEV(Post, {\n      postData: post,\n      onLikeClicked: PostLiked,\n      onUnLikeClicked: postUnLiked\n    }, i, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 21\n    }, this)), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-danger\",\n      children: apiErrorMsg\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Posts, \"lqdkKg0UNpyB7qRiWSB9BE9yX2E=\");\n\n_c = Posts;\nexport default Posts;\n\nvar _c;\n\n$RefreshReg$(_c, \"Posts\");","map":{"version":3,"sources":["D:/frontend/React JS/facebook_two/src/components/Posts/Posts.js"],"names":["axios","useState","useEffect","getPostsApi","postLikeApi","postUnLikeApi","Post","Posts","userId","setUserId","localStorage","getItem","apiErrorMsg","setApiErrorMsg","posts","setPosts","then","response","console","log","apiData","data","result","msg","PostLiked","post_id","map","post","is_liked","postUnLiked","i"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,WAAT,QAA4B,qBAA5B;AACA,SAASC,WAAT,EAAsBC,aAAtB,QAA2C,wBAA3C;AACA,OAAOC,IAAP,MAAiB,QAAjB;;;;AAEA,MAAMC,KAAK,GAAG,MAAM;AAAA;;AAChB,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBR,QAAQ,CAACS,YAAY,CAACC,OAAb,CAAqB,SAArB,CAAD,CAApC;AACA,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCZ,QAAQ,CAAC,EAAD,CAA9C;AACA,QAAM,CAACa,KAAD,EAAQC,QAAR,IAAoBd,QAAQ,CAAC,EAAD,CAAlC;AAIAC,EAAAA,SAAS,CAAC,MAAM;AAEZC,IAAAA,WAAW,CAAC,WAAD,EAAcK,MAAd,CAAX,CAAiCQ,IAAjC,CAAuCC,QAAD,IAAc;AAChDC,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACA,YAAMG,OAAO,GAAGH,QAAQ,CAACI,IAAzB;;AACA,UAAID,OAAO,CAACE,MAAR,IAAkB,SAAtB,EAAiC;AAC7BT,QAAAA,cAAc,CAAC,EAAD,CAAd;AACAE,QAAAA,QAAQ,CAACK,OAAO,CAACC,IAAT,CAAR;AACH,OAHD,MAGO;AACHR,QAAAA,cAAc,CAACO,OAAO,CAACG,GAAT,CAAd;AACH;AACJ,KATD;AAUH,GAZQ,EAYN,CAACf,MAAD,CAZM,CAAT;;AAeA,QAAMgB,SAAS,GAAIC,OAAD,IAAa;AAC3BrB,IAAAA,WAAW,CAAC,WAAD,EAAcI,MAAd,EAAsBiB,OAAtB,CAAX,CAA0CT,IAA1C,CACKC,QAAD,IAAc;AACV;AACA,UAAIA,QAAQ,CAACI,IAAT,CAAcC,MAAd,IAAwB,SAA5B,EAAuC;AAEnCP,QAAAA,QAAQ,CAACD,KAAK,CAACY,GAAN,CAAWC,IAAD,IAAU;AAEzB,cAAIA,IAAI,CAACF,OAAL,IAAgBA,OAApB,EAA6B;AACzBE,YAAAA,IAAI,CAACC,QAAL,GAAgB,MAAhB;AACH;;AACD,iBAAOD,IAAP;AACH,SANQ,CAAD,CAAR;AAOAT,QAAAA,OAAO,CAACC,GAAR,CAAYL,KAAZ;AACH;AACJ,KAdL;AAeH,GAhBD;;AAkBA,QAAMe,WAAW,GAAIJ,OAAD,IAAa;AAC7BpB,IAAAA,aAAa,CAAC,WAAD,EAAcG,MAAd,EAAsBiB,OAAtB,CAAb,CAA4CT,IAA5C,CACKC,QAAD,IAAc;AACV;AACA,UAAIA,QAAQ,CAACI,IAAT,CAAcC,MAAd,IAAwB,SAA5B,EAAuC;AACnCP,QAAAA,QAAQ,CACJD,KAAK,CAACY,GAAN,CAAWC,IAAD,IAAU;AAChB,cAAIA,IAAI,CAACF,OAAL,IAAgBA,OAApB,EAA6B;AACzBE,YAAAA,IAAI,CAACC,QAAL,GAAgB,OAAhB;AACH;;AACD,iBAAOD,IAAP;AACH,SALD,CADI,CAAR;AAOH;AACJ,KAZL;AAcH,GAfD;;AAgBA,sBACI;AAAA,eAEQb,KAAK,CAACY,GAAN,CAAU,CAACC,IAAD,EAAOG,CAAP,kBAEN,QAAC,IAAD;AACI,MAAA,QAAQ,EAAEH,IADd;AAGI,MAAA,aAAa,EAAEH,SAHnB;AAII,MAAA,eAAe,EAAEK;AAJrB,OAESC,CAFT;AAAA;AAAA;AAAA;AAAA,YAFJ,CAFR,eAYI;AAAG,MAAA,SAAS,EAAC,aAAb;AAAA,gBAA4BlB;AAA5B;AAAA;AAAA;AAAA;AAAA,YAZJ;AAAA,kBADJ;AAgBH,CAxED;;GAAML,K;;KAAAA,K;AA0EN,eAAeA,KAAf","sourcesContent":["import axios from 'axios';\r\nimport { useState, useEffect } from \"react\";\r\nimport { getPostsApi } from '../../apis/GetPosts';\r\nimport { postLikeApi, postUnLikeApi } from \"../../apis/PostActions\";\r\nimport Post from './Post';\r\n\r\nconst Posts = () => {\r\n    const [userId, setUserId] = useState(localStorage.getItem(\"user_id\"));\r\n    const [apiErrorMsg, setApiErrorMsg] = useState(\"\");\r\n    const [posts, setPosts] = useState([]);\r\n\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        getPostsApi(\"React App\", userId).then((response) => {\r\n            console.log(response);\r\n            const apiData = response.data;\r\n            if (apiData.result == \"success\") {\r\n                setApiErrorMsg(\"\");\r\n                setPosts(apiData.data);\r\n            } else {\r\n                setApiErrorMsg(apiData.msg);\r\n            }\r\n        });\r\n    }, [userId]);\r\n\r\n\r\n    const PostLiked = (post_id) => {\r\n        postLikeApi(\"react app\", userId, post_id).then(\r\n            (response) => {\r\n                // console.log(response);\r\n                if (response.data.result == \"success\") {\r\n\r\n                    setPosts(posts.map((post) => {\r\n\r\n                        if (post.post_id == post_id) {\r\n                            post.is_liked = \"true\";\r\n                        }\r\n                        return post;\r\n                    }));\r\n                    console.log(posts);\r\n                }\r\n            });\r\n    };\r\n\r\n    const postUnLiked = (post_id) => {\r\n        postUnLikeApi(\"react app\", userId, post_id).then(\r\n            (response) => {\r\n                // console.log(response);\r\n                if (response.data.result == \"success\") {\r\n                    setPosts(\r\n                        posts.map((post) => {\r\n                            if (post.post_id == post_id) {\r\n                                post.is_liked = \"false\";\r\n                            }\r\n                            return post;\r\n                        }));\r\n                }\r\n            }\r\n        )\r\n    };\r\n    return (\r\n        <>\r\n            {\r\n                posts.map((post, i) =>\r\n                (\r\n                    <Post\r\n                        postData={post}\r\n                        key={i}\r\n                        onLikeClicked={PostLiked}\r\n                        onUnLikeClicked={postUnLiked}\r\n                    />\r\n                ))\r\n            }\r\n            <p className=\"text-danger\">{apiErrorMsg}</p>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Posts;\r\n"]},"metadata":{},"sourceType":"module"}